(()=>{var t={804:()=>{const t=document.querySelector("input#font-size"),e=document.querySelector(".footer__show-settings-button"),a=document.querySelector(".footer__settings-wrapper"),o=document.querySelector(".footer__settings"),n=document.querySelector(".footer__show-contacts-button"),i=document.querySelector(".footer__contacts-wrapper"),s=document.querySelector(".footer__contacts");function c(t){const e=(t.value-t.min)/(t.max-t.min)*100,a=getComputedStyle(document.body).getPropertyValue("--color-accent");t.style.background=`linear-gradient(to right, ${a} `+e+"%, transparent "+e+"%)"}function r(t,e,a){t.addEventListener("click",(()=>{!e.classList.contains("block--is-visible")&&window.matchMedia("(min-width: 481px) and (max-width: 670px)").matches&&a.classList.add("block--is-hidden"),e.classList.contains("block--is-visible")&&window.matchMedia("(min-width: 481px) and (max-width: 670px)").matches&&a.classList.remove("block--is-hidden"),!e.classList.contains("block--is-visible")&&window.matchMedia("(min-width: 320px) and (max-width: 480px)").matches&&(e.classList.add("has-top-100-percents"),e.matches(".footer__settings")&&i.classList.add("footer__contacts-wrapper--has-margin-top")),e.classList.contains("block--is-visible")&&window.matchMedia("(min-width: 320px) and (max-width: 480px)").matches&&(e.classList.remove("has-top-100-percents"),e.matches(".footer__settings")&&i.classList.remove("footer__contacts-wrapper--has-margin-top")),e.classList.toggle("block--is-visible")}))}function l(t,e,a){document.documentElement.addEventListener("click",(o=>{e.contains(o.target)||t.contains(o.target)||e.classList.remove("block--is-visible"),!window.matchMedia("(min-width: 481px) and (max-width: 670px)").matches||e.contains(o.target)||t.contains(o.target)||a.classList.remove("block--is-hidden"),!window.matchMedia("(min-width: 320px) and (max-width: 480px)").matches||e.contains(o.target)||t.contains(o.target)||(e.classList.remove("has-top-100-percents"),e.matches(".footer__settings")&&i.classList.remove("footer__contacts-wrapper--has-margin-top"))}))}!function(t){const e=document.querySelector(".settings__font-size-value"),a=localStorage.getItem("font-size");function o(t,e,a){e.textContent=t.value,c(t),document.body.style.setProperty("--font-size",`${a}px`)}a&&(t.value=a,o(t,e,a)),t.addEventListener("input",(()=>{o(t,e,t.value),16==t.value?localStorage.removeItem("font-size"):localStorage.setItem("font-size",t.value)}))}(t),c(t),function(){const t=document.querySelector("input#theme-color");localStorage.getItem("theme-color")&&(document.body.classList.add("white-theme"),t.checked=!0),t.addEventListener("change",(()=>{t.checked?(localStorage.setItem("theme-color","white"),document.body.classList.add("white-theme")):(localStorage.removeItem("theme-color"),document.body.classList.remove("white-theme"))}))}(),r(e,o,i),r(n,s,a),l(e,o,i),l(n,s,a)}},e={};function a(o){var n=e[o];if(void 0!==n)return n.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,a),i.exports}a.d=(t,e)=>{for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var o=e.getElementsByTagName("script");if(o.length)for(var n=o.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=o[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t})(),(()=>{"use strict";var t={};function e(){let t="client";return"админ"===o().getItem("online").slice(-5)&&(t="admin"),t}function o(){let t=localStorage;return sessionStorage.getItem("online")&&(t=sessionStorage),t}function n(){document.body.style.overflow="hidden"}function i(){document.body.style.overflow=""}a.r(t),a.d(t,{OU:()=>n,So:()=>o,df:()=>e,TQ:()=>i}),function(){const t=o().getItem("online"),e=JSON.parse(localStorage.getItem(t))||JSON.parse(sessionStorage.getItem(t));document.title+=`${e["name-registration"]} ${String.fromCodePoint(128526)}`}();const s=a.p+"img/3af53bf974dafb47033c.png",c=a.p+"img/355c48054ba9788b039b.png",r=a.p+"img/c1825fe7c155a6d5e2a4.png",l=a.p+"img/5c53a4897e16590b9e78.png",d=a.p+"img/6fa84ed0564f4ac19473.png",m=a.p+"img/58ab6e74b76fff08ff9d.png",u=a.p+"img/a276317bd882c296eea5.png",p=[{firstName:"Никита",lastName:"Майоров",experience:"1 год",photo:m},{firstName:"Андрей",lastName:"Яковлев",experience:"2 года",photo:m},{firstName:"Алиса",lastName:"Фомичева",experience:"6 мес",photo:u},{firstName:"Дарья",lastName:"Лаврентьева",experience:"5 лет",photo:u}],h=[{name:"Мужская стрижка",price:"1500",image:d},{name:"Детская стрижка",price:"750",image:c},{name:"Оформление бороды",price:"800",image:s},{name:"Комплекс",price:"2000",image:l},{name:"Камуфляж седины",price:"1000",image:r}];function g(t,e,a){const o=document.querySelector(t);o.classList.contains("notification--error")?o.classList.remove("notification--error"):o.classList.contains("notification--success")&&o.classList.remove("notification--success"),o.classList.contains("notification-animation")&&(o.classList.remove("notification-animation"),o.offsetWidth),o.textContent=e,o.classList.add(`notification--${a}`,"notification-animation")}!function(){const t=document.querySelector(".time-and-date__time-hours"),e=document.querySelector(".time-and-date__time-minutes");function a(t,e){const a=new Date;a.getHours()<10?t.textContent=`0${a.getHours()}`:t.textContent=a.getHours(),a.getMinutes()<10?e.textContent=`0${a.getMinutes()}`:e.textContent=a.getMinutes(),0===a.getHours()&&0===a.getMinutes()&&o(a)}function o(t){document.querySelector(".time-and-date__date").textContent=t.toLocaleDateString("ru",{day:"numeric",month:"long",year:"numeric"})}a(t,e),o(new Date),setInterval(a,1e3,t,e)}(),function(t){let{phoneNumber:a,address:o,linkToAddressIn2gis:n}=t;const i=document.querySelector(".aside__contacts");if("client"===e()){if(i.innerHTML=`\n\t\t\t<a href=${n} target="_blank" title="Местоположение в 2ГИС" class="aside__contacts-address">${o}</a>\n\t\t\t<a href="tel:+${+a.replaceAll("-","")}" class="aside__contacts-phone">${a}</a>\n\t\t`,window.matchMedia("(min-width: 768px)").matches){document.querySelector(".aside__contacts-phone").addEventListener("click",(t=>{t.preventDefault()}))}}else i.innerHTML=`\n\t\t\t<div class="aside__contacts-address--has-cursor-default">${o}</div>\n\t\t\t<div class="aside__contacts-phone">${a}</div>\n\t\t`}({phoneNumber:"8-999-999-99-99",address:"пр. Ленина, 111в",linkToAddressIn2gis:"https://2gis.ru/magnitogorsk/geo/3659810352402709?m=58.992316%2C53.379106%2F17.55"});class f{constructor(t){this.dbObject=t}createMainModal(){const{modal:t,modalDivForScroll:e,modalContent:a,modalTitle:o,modalList:n,modalCloseButton:i}=this.createMainModalStructure();return this.setMainModalAttr(t),this.createMainModalListItems(this.dbObject,n),this.setMainModalTitle(o),a.append(o,n,i),e.append(a),t.append(e),t}createMainModalStructure(){const t=document.createElement("dialog"),e=document.createElement("div"),a=document.createElement("div"),o=document.createElement("h2"),n=document.createElement("ul"),i=document.createElement("button");return t.classList.add("app__modal","modal"),e.classList.add("modal__content-wrapper"),a.classList.add("modal__content"),o.classList.add("visually-hidden"),n.classList.add("modal__content-list","content-list"),i.classList.add("modal__content-close-button"),i.setAttribute("type","button"),i.setAttribute("data-button-action","close"),i.innerHTML='\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 1024 1024"><path fill="#010101" fill-rule="evenodd" d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960S64 759.4 64 512S264.6 64 512 64m0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372s372-166.6 372-372s-166.6-372-372-372m128.013 198.826c.023.007.042.018.083.059l45.02 45.019c.04.04.05.06.058.083a.118.118 0 0 1 0 .07c-.007.022-.018.041-.059.082L557.254 512l127.861 127.862a.268.268 0 0 1 .05.06l.009.023a.118.118 0 0 1 0 .07c-.007.022-.018.041-.059.082l-45.019 45.02c-.04.04-.06.05-.083.058a.118.118 0 0 1-.07 0c-.022-.007-.041-.018-.082-.059L512 557.254L384.14 685.115c-.042.041-.06.052-.084.059a.118.118 0 0 1-.07 0c-.022-.007-.041-.018-.082-.059l-45.02-45.019a.199.199 0 0 1-.058-.083a.118.118 0 0 1 0-.07c.007-.022.018-.041.059-.082L466.745 512l-127.86-127.86a.268.268 0 0 1-.05-.061l-.009-.023a.118.118 0 0 1 0-.07c.007-.022.018-.041.059-.082l45.019-45.02c.04-.04.06-.05.083-.058a.118.118 0 0 1 .07 0c.022.007.041.018.082.059L512 466.745l127.862-127.86c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"/></svg>\n\t\t\t\t',{modal:t,modalDivForScroll:e,modalContent:a,modalTitle:o,modalList:n,modalCloseButton:i}}setMainModalAttr(t){t.setAttribute("data-modal","masters")}createMainModalListItems(t,e){const a=JSON.parse(o().getItem("deletedMasters"));for(let o=0;o<t.length;o++){let n=!1;if(a)for(let e=0;e<a.length;e++)if(`${t[o].firstName} ${t[o].lastName}`===a[e]){n=!0;break}n||this.createMainModalListItem(t,e,o)}}createMainModalListItem(t,e,a){const o=document.createElement("li");o.classList.add("content-list-item","content-list-item--grid"),this.createMainModalListItemStructure(t,o,a),e.append(o)}createMainModalListItemStructure(t,e,a){e.innerHTML=`\n\t\t\t<div class="content-list-item-text">\n\t\t\t\t<span>${t[a].firstName} ${t[a].lastName}</span>\n\t\t\t\t<div>\n\t\t\t\t\t<span>Стаж работы: </span>\n\t\t\t\t\t<span>${t[a].experience}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<img src="${t[a].photo}" alt="Фотография мастера" />\n\t\t`}setMainModalTitle(t){t.textContent="Мастера"}showMainModal(){const t=this.createModal(),e=t.querySelector("[data-button-action='close']");0===t.querySelector("ul").children.length?this.createAndShowMainModalNotification():(document.body.append(t),t.showModal(),n(),this.calculateHeightMainModal(t),this.closeMainModal(t,e))}createAndShowMainModalNotification(){g("[data-notification='body']","Мастера отсутствуют","error")}calculateHeightMainModal(t){const e=t.querySelector("ul"),a=e.closest("div"),o=e.querySelectorAll("li"),n=getComputedStyle(e).gap;let i=0,s=0,c=0;window.matchMedia("(max-width: 767px)").matches?(o.forEach((t=>{i+=parseFloat(getComputedStyle(t).height)})),s=(o.length-1)*parseFloat(n)):(o.forEach(((t,e)=>{e<Math.ceil(o.length/2)&&(i+=parseFloat(getComputedStyle(t).height))})),s=o.length%2==0?(o.length/2-1)*parseFloat(n):Math.floor(o.length/2)*parseFloat(n)),c=2*parseFloat(getComputedStyle(a).paddingTop),t.style.height=`${i+s+c}px`}closeMainModal(t,e){t.addEventListener("click",(e=>{let{currentTarget:a,target:o}=e;o===a&&(a.close(),t.remove(),i())})),e.addEventListener("click",(()=>{t.close(),t.remove(),i()})),document.onkeyup=e=>{"Escape"===e.code&&(t.remove(),i())}}}const M=document.querySelector("[data-button-action='services']"),v=document.querySelector("[data-button-action='masters']"),b=(document.querySelector("[data-button-action='createAppointment']"),document.querySelector("[data-button-action='reset']")),w=document.querySelector("[data-button-action='logout']");function S(t,a,o){t.addEventListener("click",(()=>{let t=a;"admin"===e()&&(t=o),t.showMainModal()}))}S(M,new class extends f{constructor(t){super(t)}setMainModalAttr(t){t.setAttribute("data-modal","services")}createMainModalListItems(t,e){const a=JSON.parse(o().getItem("deletedServices"));for(let o=0;o<t.length;o++){let n=!1;if(a)for(let e=0;e<a.length;e++)if(t[o].name===a[e]){n=!0;break}n||this.createMainModalListItem(t,e,o)}}createMainModalListItemStructure(t,e,a){e.innerHTML=`\n\t\t\t<div class="content-list-item-text">\n\t\t\t\t<div class="has-margin-top-0">\n\t\t\t\t\t<span>${t[a].name}: </span>\n\t\t\t\t\t<span>${t[a].price} &#8381;</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<img src="${t[a].image}" alt="Иконка услуги" />\n\t\t`}setMainModalTitle(t){t.textContent="Услуги"}createAndShowMainModalNotification(){g("[data-notification='body']","Услуги отсутствуют","error")}}(h),new class extends f{constructor(){super()}setModalAttr(t){t.setAttribute("data-modal","services")}setModalTitle(t){t.textContent="Услуги"}createAndShowNotification(){showNotification("[data-notification='body']","Услуги отсутствуют","error")}}(h)),S(v,new f(p),new class extends f{constructor(t,e){super(t,e)}createModal(){const{modal:t,modalDivForScroll:e,modalContent:a,modalTitle:o,modalList:n,modalCloseButton:i}=this.createModalStructure(),s=document.createElement("button"),c=document.createElement("li");return this.setModalAttr(t),this.createModalListItems(t,this.dbMastersObj,this.dbServicesObj,n),c.append(s),n.append(c),this.setModalTitle(o),a.append(o,n,i),e.append(a),t.append(e),t}createModalStructure(){const t=document.createElement("dialog"),e=document.createElement("div"),a=document.createElement("div"),o=document.createElement("h2"),n=document.createElement("ul"),i=document.createElement("button");return t.classList.add("app__modal","modal"),e.classList.add("modal__scroll-wrap"),a.classList.add("modal__content"),o.classList.add("visually-hidden"),n.classList.add("modal__list"),i.classList.add("modal__close-button"),i.setAttribute("type","button"),i.setAttribute("data-button-action","close"),i.innerHTML='\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 1024 1024"><path fill="#010101" fill-rule="evenodd" d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960S64 759.4 64 512S264.6 64 512 64m0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372s372-166.6 372-372s-166.6-372-372-372m128.013 198.826c.023.007.042.018.083.059l45.02 45.019c.04.04.05.06.058.083a.118.118 0 0 1 0 .07c-.007.022-.018.041-.059.082L557.254 512l127.861 127.862a.268.268 0 0 1 .05.06l.009.023a.118.118 0 0 1 0 .07c-.007.022-.018.041-.059.082l-45.019 45.02c-.04.04-.06.05-.083.058a.118.118 0 0 1-.07 0c-.022-.007-.041-.018-.082-.059L512 557.254L384.14 685.115c-.042.041-.06.052-.084.059a.118.118 0 0 1-.07 0c-.022-.007-.041-.018-.082-.059l-45.02-45.019a.199.199 0 0 1-.058-.083a.118.118 0 0 1 0-.07c.007-.022.018-.041.059-.082L466.745 512l-127.86-127.86a.268.268 0 0 1-.05-.061l-.009-.023a.118.118 0 0 1 0-.07c.007-.022.018-.041.059-.082l45.019-45.02c.04-.04.06-.05.083-.058a.118.118 0 0 1 .07 0c.022.007.041.018.082.059L512 466.745l127.862-127.86c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"/></svg>\n\t\t\t\t',{modal:t,modalDivForScroll:e,modalContent:a,modalTitle:o,modalList:n,modalCloseButton:i}}createModalListItems(e,a,o,n){(0,t.createAndFilterModalListItemsForMasters)(e,a,o,n)}setModalTitle(t){t.textContent="Мастера"}setModalAttr(t){t.setAttribute("data-modal","masters")}showMainModal(){const e=this.createModal();e.querySelector("[data-action='close']");0===e.querySelector("ul").children.length?this.createAndShowNotification():(0,t.showMainModal)(e)}createAndShowNotification(){g("[data-notification='body']","Мастера отсутствуют","error")}}(p)),b.addEventListener("click",(()=>{const t=o();t.removeItem("deletedServices"),t.removeItem("deletedMasters"),t.removeItem("addedServices"),t.removeItem("addedMasters")})),function(t){t.addEventListener("click",(()=>{o().removeItem("online"),window.location.assign("/index.html")}))}(w);a(804)})()})();